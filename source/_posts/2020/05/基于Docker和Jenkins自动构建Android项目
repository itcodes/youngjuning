## ç¯å¢ƒå‡†å¤‡

- [Docker](https://juejin.im/post/6844904111243001869#heading-11)
- [Jenkins](https://juejin.im/post/6844904152003248136)

## android-sdk

### å®‰è£… android-sdk

```shell
$ apt update | apt install android-sdk
```

### å¤åˆ¶åˆ° jenkins volume

```shell
$ cp -R /usr/lib/android-sdk/ /var/lib/docker/volume/jenkins_home/_data/
```

android-sdk çš„å®‰è£…ä½ç½®å¯ä»¥é€šè¿‡ `adb --version` æŸ¥çœ‹ï¼š

<img src="https://user-gold-cdn.xitu.io/2020/5/9/171f7fae7cf4ff7a?w=864&h=230&f=png&s=176444" alt="" style="zoom: 75%;" />

### è®¾ç½®ç¯å¢ƒå˜é‡

å°†ä¸‹é¢çš„çš„é…ç½®åŠ å…¥åˆ° `~/.bash_profile` æˆ– `~/.zshrc` ä¸­ï¼Œå¹¶æ‰§è¡Œ `srouce ~/.bash_profile` æˆ– `srouce ~/.zshrc`ï¼š

```
export ANDROID_HOME=/var/lib/docker/volumes/jenkins_home/_data/android-sdk
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_HOME/emulator
```

## sdkmagager

```shell
$ apt update | apt install snapd
$ snap install androidsdk
```

## accepted licences

> å¦‚æœä¸æˆæƒä¼šæŠ¥é”™ï¼š Failed to install the following Android SDK packages as some licences have not been accepted.

```shell
$ yes | sdkmanager --sdk_root=${ANDROID_HOME} --licenses
```

> å¦‚æœä¸æŒ‡å®š `--sdk_root=${ANDROID_HOME}` ä¼šæŠ¥é”™ï¼š[SDKmanager : Warning: Could not create setting. java.lang.IllegalArgumentException](https://stackoverflow.com/questions/60730615/sdkmanager-warning-could-not-create-setting-java-lang-illegalargumentexcepti)

## Jenkins ANDROID_HOME

è¿›å…¥ **ç³»ç»Ÿç®¡ç†** -> **ç³»ç»Ÿé…ç½®** -> **å…¨å±€å±æ€§** æ–°å¢ç¯å¢ƒå˜é‡ `ANDROID_HOME`ï¼š

![](https://user-gold-cdn.xitu.io/2020/5/9/171f7fae8171f318?w=1980&h=486&f=png&s=65179)

## æ–°å»ºä»»åŠ¡

ç„¶åä½ å°±å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ï¼ï¼ï¼

![](https://user-gold-cdn.xitu.io/2020/5/9/171f7fae81791d69?w=1890&h=1120&f=png&s=263338)

## Catch Me

> GitHub: [youngjuning](https://github.com/youngjuning) | å¾®ä¿¡: `yang_jun_ning` | å…¬ä¼—å·: `å‰ç«¯æ—©èŒ¶é¦†` | é‚®ç®±: youngjuning@aliyun.com

|                             å¾®ä¿¡                             |                             æŠ•é£Ÿ                             |                            å…¬ä¼—å·                            |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| <img src="https://i.loli.net/2020/02/22/q2tLiGYvhIxm3Fl.jpg" width="200px"/> | <img src="https://i.loli.net/2020/02/23/q56X1eYZuITQpsj.png" width="200px"/> | <img src="https://i.loli.net/2020/07/28/6AyutjZ1XI4aUDV.jpg" width="200px"/> |

æœ¬æ–‡é¦–å‘äº[æ¨ä¿Šå®çš„åšå®¢](https://youngjuning.js.org/)ï¼Œåˆ›ä½œä¸æ˜“ï¼Œæ‚¨çš„ç‚¹èµğŸ‘æ˜¯æˆ‘åšæŒçš„åŠ¨åŠ›ï¼ï¼ï¼
